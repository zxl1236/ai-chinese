<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI助手功能测试</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .input-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        textarea {
            height: 150px;
            resize: vertical;
        }
        .test-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .test-info h3 {
            margin-top: 0;
            color: #1976d2;
        }
        .test-info ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .test-info li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>🤖 AI助手功能测试</h1>
        
        <div class="test-info">
            <h3>测试说明</h3>
            <ul>
                <li>在下方输入题目和内容</li>
                <li>点击右上角的AI助手图标</li>
                <li>测试各个功能按钮是否正常工作</li>
                <li>检查控制台是否有错误信息</li>
            </ul>
        </div>

        <div class="input-group">
            <label for="test-title">测试题目：</label>
            <input type="text" id="test-title" placeholder="请输入写作题目，例如：我的理想" value="我的理想">
        </div>

        <div class="input-group">
            <label for="test-content">测试内容：</label>
            <textarea id="test-content" placeholder="请输入一些写作内容来测试功能">每个人都有自己的理想，我的理想是成为一名优秀的教师。教师是知识的传播者，是学生成长路上的引路人。</textarea>
        </div>

        <div class="input-group">
            <label>测试步骤：</label>
            <ol>
                <li>确保后端服务正在运行（端口5000）</li>
                <li>确保Ollama服务正在运行（端口11434）</li>
                <li>点击右上角的AI助手图标</li>
                <li>测试"分析题目"和"获取灵感"按钮</li>
                <li>测试"优化文章"和"续写建议"按钮</li>
                <li>检查控制台输出</li>
            </ol>
        </div>
    </div>

    <!-- 加载AI助手 -->
    <script src="src/writing-module/smart-ai-assistant.js"></script>
    <script>
        // 初始化AI助手
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 初始化AI助手...');
            window.aiAssistant = new SmartAIAssistant();
            
            // 添加一些调试信息
            setTimeout(() => {
                console.log('📊 AI助手状态:', {
                    isVisible: window.aiAssistant.isVisible,
                    currentTopic: window.aiAssistant.currentTopic,
                    wordCount: window.aiAssistant.wordCount,
                    apiConfig: window.aiAssistant.apiConfig
                });
            }, 2000);
        });
    </script>
</body>
</html>
